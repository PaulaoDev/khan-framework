<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>kjs</title>
</head>
<body>
	
	<div id="app">
		<h1 class="[{ nome !== 'false' ? 'app' : 'unapp' }]">
			Ola tudo bem {{ fullName }} ?
		</h1>
		<div>
			<form class="formulario">
				<input type="text" placeholder="texto {{ nome }}">
			</form>
		</div>
		<div>
			{{ #peoples }}
				{{ name }}
			{{ /peoples }}
		</div>
	</div>

	<script src="dist/kjs.min.js"></script>
	<script type="text/javascript">

		const app = new kjs().render("#app", {
			nome: "Paulao",
			sobrenome: "Junior",
			fullName: function(){
				return this.nome + " " + this.sobrenome;
			},
			peoples: [
			  { "name": "Moe" },
			  { "name": "Larry" },
			  { "name": "Curly" }
			]
		});

		document.querySelector(".formulario").addEventListener("submit", function(e){
			
			let input = document.querySelector("input");

			app.setState('peoples', [...app.state.peoples, {
				name: input.value
			}]);

			input.value = "";
			e.preventDefault();

		});

		setTimeout(() => app.setState("nome", "Mario Dutra JR"), 3000);

	</script>

</body>
</html>
