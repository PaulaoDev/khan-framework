!function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([function(t,n,e){"use strict";function r(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,n){var e=[],r=!0,i=!1,a=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(e.push(o.value),!n||e.length!==n);r=!0);}catch(t){i=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),u=window,c=e(1),l=e(2);u.$khan=function(){function t(){i(this,t);return this.$db_application=new Map,this.middleware=new c,this}return o(t,[{key:"set",value:function(t,n){this.$db_application.set(t,n)}},{key:"get",value:function(t){this.$db_application.get(t)}},{key:"use",value:function(t){t.name&&"Router"===t.name&&(this.routeAwait=t),t.name||"Router"===t.name||this.middleware.use(t)}},{key:"Router",value:function(){return l}},{key:"listen",value:function(){var t=this;this.middleware.go(function(){if(delete this.go,t.routeAwait){var n=t.routeAwait.dispatch(),e=a(n,4),i=e[0],o=e[1],u=e[2],c=e[3];u=u||[],i.bind(Object.assign({},this,{pathname:o,uri:c})).apply(void 0,r(u))}})}}]),t}()},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=function(){function t(){r(this,t)}return i(t,[{key:"use",value:function(t){var n=this;this.go=function(e){return function(r){return e(t.bind(n,r.bind(n)))}}(this.go)}},{key:"go",value:function(t){return t()}}]),t}();t.exports=a},function(t,n,e){"use strict";var r={};r.routes=[],r.any=function(t,n){t.includes("{")&&t.includes("}")?t=t.replace(/\{(.*?)}/g,"(.*)"):t+="?",r.routes.push({path:t,callback:n})},r.name="Router",r.not_found={path:"not_found",callback:function(){document.body.innerHTML+='<h1>Router: "'+this.uri+'" not found!!</h1>'}},r.path_active=location.hash?location.hash.slice(1):location.pathname,r.dispatch=function(){var t=function(t){return t.split("/").length},n=[],e=r.routes.filter(function(e){var i=new RegExp("^"+e.path);return n=r.path_active.match(i),Array.isArray(n)&&null!==n&&(n=n.slice(1)),i.test(r.path_active)&&t(e.path)==t(r.path_active)});return e=e.length>0?e[0]:r.not_found,[e.callback,e.path,n,r.path_active]},t.exports=r}]);
//# sourceMappingURL=khan.min.js.map