{"version":3,"sources":["webpack:///khan.min.js","webpack:///webpack/bootstrap dd44e084462483cfe9b2","webpack:///./vendor/app/app.js","webpack:///./vendor/app/modules/middleware.js","webpack:///./vendor/app/modules/router.js","webpack:///./vendor/app/modules/controller.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_toConsumableArray","arr","Array","isArray","arr2","length","from","_classCallCheck","instance","Constructor","TypeError","_slicedToArray","sliceIterator","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","err","_createClass","defineProperties","target","props","descriptor","writable","key","protoProps","staticProps","global","window","middleware","Router","$controller","$khan","_class","this","$db_application","Map","fn","set","routeAwait","use","self","go","run","dispatch","_run","callback","pathh","params","active","bind","assign","pathname","uri","apply","Middleware","_this","stack","routes","any","route","includes","replace","path","not_found","document","body","innerHTML","path_active","location","hash","slice","splited","str","split","args","router","filter","pattern","RegExp","match","test","$broadcast","data","arguments","ctrl","update","Proxy","khanApp","db","last_render_buffer","create","$view","$event","view","querySelector","setAttribute","model","$ctrl","render","proxy","updateView","parse_template","code","controller","receive","keys","k","map","join","$d","computed","Function","dataset","Math","floor","random","render_buffer","e"],"mappings":"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","file":"khan.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar global = window;\nvar middleware = __webpack_require__(1);\nvar _Router = __webpack_require__(2);\nvar $controller = __webpack_require__(3);\n\nglobal.$khan = function () {\n\tfunction _class() {\n\t\t_classCallCheck(this, _class);\n\n\t\tvar self = this;\n\t\tthis.$db_application = new Map();\n\t\tthis.middleware = new middleware();\n\t\treturn this;\n\t}\n\n\t_createClass(_class, [{\n\t\tkey: 'set',\n\t\tvalue: function set(name, fn) {\n\t\t\tthis.$db_application.set(name, fn);\n\t\t}\n\t}, {\n\t\tkey: 'get',\n\t\tvalue: function get(name) {\n\t\t\tthis.$db_application.get(name);\n\t\t}\n\t}, {\n\t\tkey: 'use',\n\t\tvalue: function use(fn) {\n\t\t\tif (fn.name && fn.name === \"Router\") {\n\t\t\t\tthis.routeAwait = fn;\n\t\t\t}\n\t\t\tif (!fn.name && fn.name !== \"Router\") {\n\t\t\t\tthis.middleware.use(fn);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'Router',\n\t\tvalue: function Router() {\n\t\t\treturn _Router;\n\t\t}\n\t}, {\n\t\tkey: 'listen',\n\t\tvalue: function listen() {\n\t\t\tvar self = this;\n\t\t\tthis.middleware.go(function () {\n\t\t\t\tdelete this['go'];\n\t\t\t\tif (self.routeAwait) {\n\t\t\t\t\tvar run = self.routeAwait.dispatch();\n\n\t\t\t\t\tvar _run = _slicedToArray(run, 4),\n\t\t\t\t\t    callback = _run[0],\n\t\t\t\t\t    pathh = _run[1],\n\t\t\t\t\t    params = _run[2],\n\t\t\t\t\t    active = _run[3];\n\n\t\t\t\t\tparams = params || [];\n\t\t\t\t\tcallback.bind(Object.assign({}, this, {\n\t\t\t\t\t\t\"pathname\": pathh,\n\t\t\t\t\t\t\"uri\": active\n\t\t\t\t\t})).apply(undefined, _toConsumableArray(params));\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '$controller',\n\t\tget: function get() {\n\t\t\treturn $controller;\n\t\t}\n\t}]);\n\n\treturn _class;\n}();\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Middleware = function () {\n  function Middleware() {\n    _classCallCheck(this, Middleware);\n  }\n\n  _createClass(Middleware, [{\n    key: \"use\",\n    value: function use(fn) {\n      var _this = this;\n\n      this.go = function (stack) {\n        return function (next) {\n          return stack(fn.bind(_this, next.bind(_this)));\n        };\n      }(this.go);\n    }\n  }, {\n    key: \"go\",\n    value: function go(next) {\n      return next();\n    }\n  }]);\n\n  return Middleware;\n}();\n\nmodule.exports = Middleware;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Router = {};\n\nRouter.routes = [];\n\nRouter.any = function (route, fn) {\n\tif (route.includes('{') && route.includes('}')) {\n\t\troute = route.replace(/\\{(.*?)}/g, '(.*)');\n\t} else {\n\t\troute = route + '?';\n\t}\n\tRouter.routes.push({ path: route, callback: fn });\n};\n\nRouter.name = \"Router\";\n\nRouter.not_found = {\n\t\"path\": 'not_found',\n\t\"callback\": function callback() {\n\t\tdocument.body.innerHTML += '<h1>Router: \"' + this.uri + '\" not found!!</h1>';\n\t}\n};\n\nRouter.path_active = location.hash ? location.hash.slice(1) : location.pathname;\n\nRouter.dispatch = function () {\n\tvar splited = function splited(str) {\n\t\treturn str.split('/').length;\n\t};\n\tvar params = [],\n\t    args = [];\n\tvar router = Router.routes.filter(function (route) {\n\t\tvar pattern = new RegExp('^' + route.path);\n\t\targs = Router.path_active.match(pattern);\n\t\tif (Array.isArray(args) && args !== null) {\n\t\t\targs = args.slice(1);\n\t\t}\n\t\treturn pattern.test(Router.path_active) && splited(route.path) == splited(Router.path_active);\n\t});\n\trouter = router.length > 0 ? router[0] : Router.not_found;\n\treturn [router.callback, router.path, args, Router.path_active];\n};\n\nmodule.exports = Router;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nwindow.$broadcast = function () {\n    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var ctrl = arguments[1];\n\n    return function () {\n        var update = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n        return new Proxy(data, {\n            get: function get(target, key) {\n                return key in target ? target[key] : null;\n            },\n            set: function set(target, key, value) {\n                if (!target[\"$_updates\"]) target[\"$_updates\"] = true;\n                ctrl[key] = value;\n                target[key] = value;\n                update(target, key, value);\n            }\n        });\n    };\n};\n\nwindow.khanApp = {};\n\nkhanApp.db = {};\nkhanApp.last_render_buffer = {};\n\nkhanApp.create = function () {\n    return this;\n};\n\nkhanApp.$controller = function ($view, $event) {\n    if (!window['khan_controller']) window['khan_controller'] = {};\n    var view = document.querySelector(\"[khan-controller=\\\"\" + $view + \"\\\"]\");\n    view.setAttribute('visibility', 'hidden');\n    if (view) {\n        window['khan_controller'][$view] = {};\n        var model = window['khan_controller'][$view];\n        var $ctrl = \"window.khan_controller.\" + $view;\n        //$event.bind(proxy)(proxy);\n        $event.bind(new (function () {\n            function _class() {\n                _classCallCheck(this, _class);\n            }\n\n            _createClass(_class, [{\n                key: \"render\",\n                value: function render() {\n                    model = Object.assign({ render: function render() {} }, model, this);\n                    window['khan_controller'][$view] = model;\n                    khanApp.render(\"[khan-controller=\\\"\" + $view + \"\\\"]\", model, $ctrl);\n                    var proxy = $broadcast(model, window['khan_controller'][$view])(khanApp.updateView(\"[khan-controller=\\\"\" + $view + \"\\\"]\", $ctrl));\n                    $event.bind(proxy)(proxy);\n                }\n            }]);\n\n            return _class;\n        }())())();\n    }\n};\n\nkhanApp.parse_template = function (code, data, controller) {\n\n    var receive = Object.keys(data).filter(function (k) {\n        return k !== \"render\";\n    }).map(function (k) {\n        return \"\\\\$\" + k;\n    }).join('|');\n    receive = new RegExp(receive, 'gim');\n\n    code = code.replace(receive, function (match) {\n        var m = match.replace('$', '');\n        if (data[m]) {\n            var $d = controller + \".\" + m;\n            if (typeof data[m] === \"function\") {\n                if (!data.computed) data.computed = {};\n                data[\"computed\"][m] = data[m];\n                $d = controller + \".computed.\" + m;\n            }\n            return $d;\n        }\n    }).replace(/\\{\\{/gim, '${').replace(/\\}\\}/gim, '}');\n\n    var interpolates = function interpolates(code) {\n        return code.replace(new RegExp('&gt;', 'gim'), '>').replace(new RegExp('&lt;', 'gim'), '<').replace(new RegExp('\\\\<\\\\(', 'gim'), \"'\").replace(new RegExp('\\\\)\\\\>', 'gim'), \"'\").replace(new RegExp('\\\\<\\\\=\\\\(', 'gim'), \"+ '\").replace(new RegExp('\\\\)\\\\=\\\\>', 'gim'), \"' +\");\n    };\n\n    code = interpolates(code);\n\n    return new Function('return `' + code + '`;');\n};\n\nkhanApp.data = function (view) {\n    var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    if (value === null && key !== null) return view.dataset[key];\n    if (value !== null && key !== null) view.dataset[key] = value;\n};\n\nkhanApp.render = function (view, data, controller) {\n    var code = 'false';\n    view = document.querySelector(view);\n    if (!khanApp.data(view, 'render')) {\n        khanApp.data(view, 'render', Math.floor(Math.random() * 10000));\n    }\n    if (!khanApp.render_buffer) khanApp.render_buffer = {};\n    if (!khanApp.render_buffer[view.dataset['render']]) {\n        khanApp.render_buffer[view.dataset['render']] = view.innerHTML;\n        code = khanApp.parse_template(view.innerHTML, data, controller);\n    } else {\n        code = khanApp.parse_template(khanApp.render_buffer[view.dataset['render']], data, controller);\n    }\n\n    try {\n        view.innerHTML = code();\n    } catch (e) {}\n};\n\nkhanApp.updateView = function (view, controller) {\n    // console.log('Update!!');\n    return function (data, key, value) {\n        khanApp.render(view, data, controller);\n    };\n};\n\nmodule.exports = khanApp.create().$controller;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// khan.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dd44e084462483cfe9b2","\"use strict\";\r\n\r\nconst global = window;\r\nconst middleware = require('./modules/middleware');\r\nconst Router = require('./modules/router');\r\nconst $controller = require('./modules/controller');\r\n\r\nglobal.$khan = class {\r\n\r\n\tconstructor(){\r\n\t\tconst self = this;\t\t\r\n\t\tthis.$db_application = new Map();\r\n\t\tthis.middleware = new middleware();\r\n\t\treturn this;\r\n\t}\r\n\r\n\tset(name, fn){ this.$db_application.set(name, fn); }\r\n\r\n\tget(name){ this.$db_application.get(name); }\r\n\r\n\tuse(fn){ \r\n\t\tif(fn.name && fn.name === \"Router\"){\r\n\t\t\tthis.routeAwait = fn;\r\n\t\t}\r\n\t\tif(!fn.name && fn.name !== \"Router\"){\r\n\t\t\tthis.middleware.use(fn); \r\n\t\t}\r\n\t}\r\n\t\r\n\tget $controller(){\r\n\t    return $controller;\r\n\t}\r\n\r\n\tRouter(){\r\n\t\treturn Router;\r\n\t}\r\n\r\n\tlisten(){\r\n\t\tvar self = this;\r\n\t\tthis.middleware.go(function(){\r\n\t\t\tdelete this['go'];\r\n\t\t\tif(self.routeAwait){\r\n\t\t\t\tvar run = self.routeAwait.dispatch();\r\n\t\t\t\tvar [callback, pathh, params, active] = run;\r\n\t\t\t\tparams = params || [];\r\n\t\t\t\tcallback.bind(Object.assign({}, this, {\r\n\t\t\t\t\t\"pathname\": pathh,\r\n\t\t\t\t\t\"uri\": active\r\n\t\t\t\t}))(...params);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./vendor/app/app.js","class Middleware {\r\n  \r\n  use(fn) {\r\n    this.go = (stack => next => stack(fn.bind(this, next.bind(this))))(this.go);\r\n  }\r\n\r\n  go(next){ return next(); }\r\n\r\n}\r\n\r\nmodule.exports = Middleware;\n\n\n// WEBPACK FOOTER //\n// ./vendor/app/modules/middleware.js","let Router = {};\r\n\r\nRouter.routes = [];\r\n\r\nRouter.any = (route, fn) => {\r\n\tif(route.includes('{') && route.includes('}')){\r\n\t\troute = route.replace(/\\{(.*?)}/g, '(.*)');\r\n\t}else{\r\n\t\troute = route + '?';\r\n\t}\r\n\tRouter.routes.push({ path: route, callback: fn });\r\n};\r\n\r\nRouter.name = \"Router\";\t\r\n\r\nRouter.not_found = {\r\n\t\"path\": 'not_found',\r\n\t\"callback\": function(){ \r\n\t\tdocument.body.innerHTML += `<h1>Router: \"${this.uri}\" not found!!</h1>`;\r\n\t}\r\n};\r\n\r\nRouter.path_active = (location.hash) ? location.hash.slice(1) : location.pathname;\r\n\r\nRouter.dispatch = () => {\r\n\tlet splited = (str) => str.split('/').length;\r\n\tvar params = [],\r\n\t\targs = [];\r\n\tvar router = Router.routes.filter((route) => {\r\n\t\tvar pattern = new RegExp('^'+ route.path );\r\n\t\targs = Router.path_active.match(pattern);\r\n\t\tif(Array.isArray(args) && args !== null){\r\n\t\t\targs = args.slice(1);\r\n\t\t}\r\n\t\treturn pattern.test(Router.path_active)\r\n\t\t\t   && splited(route.path) == splited(Router.path_active);\r\n\t});\r\n\trouter = router.length > 0 ? router[0] : Router.not_found; \r\n\treturn [ router.callback, router.path, args, Router.path_active];\r\n};\r\n\r\nmodule.exports = Router;\n\n\n// WEBPACK FOOTER //\n// ./vendor/app/modules/router.js","window.$broadcast = (data = {}, ctrl) => {\r\n\treturn function(update = () => {}){\r\n\t\treturn new Proxy(data, {\r\n            get: (target, key) => (key in target) ? target[key] : null,\r\n            set: (target, key, value) => {\r\n              if(!target[\"$_updates\"]) target[\"$_updates\"] = true;\r\n              ctrl[key] = value;\r\n\t\t\t\t      target[key] = value;\r\n              update(target, key, value);\r\n            }\r\n    \t});\r\n    }\r\n};\r\n\r\nwindow.khanApp = {};\r\n\r\nkhanApp.db = {};\r\nkhanApp.last_render_buffer = {};\r\n\r\nkhanApp.create = function(){\r\n    return this;\r\n};\r\n\r\nkhanApp.$controller = function($view, $event){\r\n    if(!window['khan_controller']) window['khan_controller'] = {};\r\n    var view = document.querySelector(`[khan-controller=\"${$view}\"]`);\r\n    view.setAttribute('visibility', 'hidden');\r\n    if(view){\r\n        window['khan_controller'][$view] = {};\r\n        let model = window['khan_controller'][$view];\r\n        let $ctrl = \"window.khan_controller.\" + $view;\r\n        //$event.bind(proxy)(proxy);\r\n        $event.bind(new class {\r\n            render(){\r\n                model = Object.assign({render: () => {} }, model, this);\r\n                window['khan_controller'][$view] = model;\r\n                khanApp.render(`[khan-controller=\"${$view}\"]`, model, $ctrl);\r\n                let proxy = $broadcast(model, window['khan_controller'][$view])(khanApp.updateView(`[khan-controller=\"${$view}\"]`, $ctrl));\r\n                $event.bind(proxy)(proxy);\r\n            }\r\n        })();\r\n    }\r\n};\r\n\r\nkhanApp.parse_template = (code, data, controller) => {\r\n\r\n    let receive = Object.keys(data)\r\n                        .filter((k) => k !== \"render\")\r\n                        .map((k) => `\\\\$${k}`).join('|');\r\n    receive = new RegExp(receive, 'gim');\r\n\r\n    code = code.replace(receive, (match) => {\r\n        var m = match.replace('$', '');\r\n        if(data[m]){\r\n            var $d = controller + \".\" + m;\r\n            if(typeof data[m] === \"function\"){\r\n               if(!data.computed) data.computed = {};\r\n               data[\"computed\"][m] = data[m];\r\n               $d = `${controller}.computed.${m}`;\r\n            }\r\n            return $d;\r\n        }\r\n    }).replace(/\\{\\{/gim, '${').replace(/\\}\\}/gim, '}');\r\n\r\n    const interpolates = (code) => {\r\n        return   code.replace(new RegExp('&gt;', 'gim'), '>')\r\n                     .replace(new RegExp('&lt;', 'gim'), '<')\r\n                     .replace(new RegExp('\\\\<\\\\(', 'gim'), \"'\")\r\n                     .replace(new RegExp('\\\\)\\\\>', 'gim'), \"'\")\r\n                     .replace(new RegExp('\\\\<\\\\=\\\\(', 'gim'), \"+ '\")\r\n                     .replace(new RegExp('\\\\)\\\\=\\\\>', 'gim'), \"' +\");\r\n    };\r\n\r\n    code = interpolates(code);\r\n\r\n    return new Function('return `'+code+'`;');\r\n\r\n};\r\n\r\nkhanApp.data = (view, key = null, value = null) => {\r\n    if(value === null && key !== null) return view.dataset[key];\r\n    if(value !== null && key !== null) view.dataset[key] = value;\r\n};\r\n\r\nkhanApp.render = function(view, data, controller){\r\n    var code = 'false';\r\n    view = document.querySelector(view);\r\n    if(!khanApp.data(view, 'render')){\r\n        khanApp.data(view, 'render', Math.floor(Math.random() * 10000));\r\n    }\r\n    if(!khanApp.render_buffer) khanApp.render_buffer = {};\r\n    if(!khanApp.render_buffer[view.dataset['render']]){\r\n      khanApp.render_buffer[view.dataset['render']] = view.innerHTML;\r\n      code = khanApp.parse_template(\r\n                view.innerHTML, \r\n                data,\r\n                controller\r\n             );\r\n    }else{\r\n      code = khanApp.parse_template(\r\n                khanApp.render_buffer[view.dataset['render']], \r\n                data,\r\n                controller\r\n             );\r\n    }\r\n    \r\n    try{ view.innerHTML = code(); }catch(e){}\r\n\r\n};\r\n\r\nkhanApp.updateView = (view, controller) => {\r\n    // console.log('Update!!');\r\n\t  return function(data, key, value){\r\n        khanApp.render(view, data, controller);\r\n    };\r\n};\r\n\r\nmodule.exports = khanApp.create().$controller;\n\n\n// WEBPACK FOOTER //\n// ./vendor/app/modules/controller.js"],"sourceRoot":""}