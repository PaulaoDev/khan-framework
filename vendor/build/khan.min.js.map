{"version":3,"sources":["webpack:///khan.min.js","webpack:///webpack/bootstrap 084bbfa72017bc82ba58","webpack:///./vendor/app/app.js","webpack:///./vendor/app/modules/middleware.js","webpack:///./vendor/app/modules/router.js","webpack:///./vendor/app/modules/controller.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_toConsumableArray","arr","Array","isArray","arr2","length","from","_classCallCheck","instance","Constructor","TypeError","_slicedToArray","sliceIterator","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","err","_createClass","defineProperties","target","props","descriptor","writable","key","protoProps","staticProps","global","window","middleware","Router","$controller","console","log","$khan","_class","this","$db_application","Map","fn","set","routeAwait","use","self","go","run","dispatch","_run","callback","pathh","params","active","bind","assign","pathname","uri","apply","Middleware","_this","stack","routes","any","route","includes","replace","path","not_found","document","body","innerHTML","path_active","location","hash","slice","splited","str","split","args","router","filter","pattern","RegExp","match","test","$broadcast","data","arguments","update","Proxy","khanApp","db","$view","$event","view","querySelector","model","$ctrl","updateView","parse_template","code","controller","code_t","map","trim","keys","k","Function","dataset","render","render_buffer","Math","floor","random"],"mappings":"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","file":"khan.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar global = window;\nvar middleware = __webpack_require__(1);\nvar _Router = __webpack_require__(2);\nvar $controller = __webpack_require__(3);\nconsole.log($controller);\n\nglobal.$khan = function () {\n\tfunction _class() {\n\t\t_classCallCheck(this, _class);\n\n\t\tvar self = this;\n\t\tthis.$db_application = new Map();\n\t\tthis.middleware = new middleware();\n\t\treturn this;\n\t}\n\n\t_createClass(_class, [{\n\t\tkey: 'set',\n\t\tvalue: function set(name, fn) {\n\t\t\tthis.$db_application.set(name, fn);\n\t\t}\n\t}, {\n\t\tkey: 'get',\n\t\tvalue: function get(name) {\n\t\t\tthis.$db_application.get(name);\n\t\t}\n\t}, {\n\t\tkey: 'use',\n\t\tvalue: function use(fn) {\n\t\t\tif (fn.name && fn.name === \"Router\") {\n\t\t\t\tthis.routeAwait = fn;\n\t\t\t}\n\t\t\tif (!fn.name && fn.name !== \"Router\") {\n\t\t\t\tthis.middleware.use(fn);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'Router',\n\t\tvalue: function Router() {\n\t\t\treturn _Router;\n\t\t}\n\t}, {\n\t\tkey: 'listen',\n\t\tvalue: function listen() {\n\t\t\tvar self = this;\n\t\t\tthis.middleware.go(function () {\n\t\t\t\tdelete this['go'];\n\t\t\t\tif (self.routeAwait) {\n\t\t\t\t\tvar run = self.routeAwait.dispatch();\n\n\t\t\t\t\tvar _run = _slicedToArray(run, 4),\n\t\t\t\t\t    callback = _run[0],\n\t\t\t\t\t    pathh = _run[1],\n\t\t\t\t\t    params = _run[2],\n\t\t\t\t\t    active = _run[3];\n\n\t\t\t\t\tparams = params || [];\n\t\t\t\t\tcallback.bind(Object.assign({}, this, {\n\t\t\t\t\t\t\"pathname\": pathh,\n\t\t\t\t\t\t\"uri\": active\n\t\t\t\t\t})).apply(undefined, _toConsumableArray(params));\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: '$controller',\n\t\tget: function get() {\n\t\t\treturn $controller;\n\t\t}\n\t}]);\n\n\treturn _class;\n}();\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Middleware = function () {\n  function Middleware() {\n    _classCallCheck(this, Middleware);\n  }\n\n  _createClass(Middleware, [{\n    key: \"use\",\n    value: function use(fn) {\n      var _this = this;\n\n      this.go = function (stack) {\n        return function (next) {\n          return stack(fn.bind(_this, next.bind(_this)));\n        };\n      }(this.go);\n    }\n  }, {\n    key: \"go\",\n    value: function go(next) {\n      return next();\n    }\n  }]);\n\n  return Middleware;\n}();\n\nmodule.exports = Middleware;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Router = {};\n\nRouter.routes = [];\n\nRouter.any = function (route, fn) {\n\tif (route.includes('{') && route.includes('}')) {\n\t\troute = route.replace(/\\{(.*?)}/g, '(.*)');\n\t} else {\n\t\troute = route + '?';\n\t}\n\tRouter.routes.push({ path: route, callback: fn });\n};\n\nRouter.name = \"Router\";\n\nRouter.not_found = {\n\t\"path\": 'not_found',\n\t\"callback\": function callback() {\n\t\tdocument.body.innerHTML += '<h1>Router: \"' + this.uri + '\" not found!!</h1>';\n\t}\n};\n\nRouter.path_active = location.hash ? location.hash.slice(1) : location.pathname;\n\nRouter.dispatch = function () {\n\tvar splited = function splited(str) {\n\t\treturn str.split('/').length;\n\t};\n\tvar params = [],\n\t    args = [];\n\tvar router = Router.routes.filter(function (route) {\n\t\tvar pattern = new RegExp('^' + route.path);\n\t\targs = Router.path_active.match(pattern);\n\t\tif (Array.isArray(args) && args !== null) {\n\t\t\targs = args.slice(1);\n\t\t}\n\t\treturn pattern.test(Router.path_active) && splited(route.path) == splited(Router.path_active);\n\t});\n\trouter = router.length > 0 ? router[0] : Router.not_found;\n\treturn [router.callback, router.path, args, Router.path_active];\n};\n\nmodule.exports = Router;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nwindow.$broadcast = function () {\n    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return function () {\n        var update = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n        return new Proxy(data, {\n            get: function get(target, key) {\n                return key in target ? target[key] : null;\n            },\n            set: function set(target, key, value) {\n                target[key] = value;\n                update(target, key, value);\n            }\n        });\n    };\n};\n\nwindow.khanApp = {};\n\nkhanApp.db = {};\n\nkhanApp.$controller = function ($view, $event) {\n    if (!window['khan_controller']) window['khan_controller'] = {};\n    var view = document.querySelector('[khan-controller=\"' + $view + '\"]');\n    if (view) {\n        window['khan_controller'][$view] = {};\n        var model = window['khan_controller'][$view];\n        var $ctrl = \"window.khan_controller.\" + $view;\n        window['khan_controller'][$view] = $broadcast(model)(khanApp.updateView(view, $ctrl));\n        $event(window['khan_controller'][$view]);\n    }\n};\n\nkhanApp.parse_template = function (code, data, controller) {\n    var code_t = code;\n    code_t.match(/{{(.*?)}}/g).map(function (m) {\n        var n = m.replace('{{', '').replace('}}', '').trim();\n        Object.keys(data).map(function (k) {\n            if (n.includes(k)) {\n                n = n.replace(new RegExp(k, 'g'), controller + \".\" + k);\n            }\n        });\n        code_t = code_t.replace(m, '${' + n + '}');\n    });\n\n    return new Function('return `' + code_t + '`;');\n};\n\nkhanApp.data = function (view) {\n    var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    if (value === null && key !== null) return view.dataset[key];\n    if (value !== null && key !== null) view.dataset[key] = value;\n};\n\nkhanApp.render = function (view, data, controller) {\n\n    var code = 'false';\n    if (!khanApp.render_buffer) khanApp.render_buffer = {};\n    if (!khanApp.data(view, 'render')) {\n        khanApp.data(view, 'render', Math.floor(Math.random() * 10000));\n    }\n    if (!khanApp.render_buffer[view.dataset['render']]) {\n        khanApp.render_buffer[view.dataset['render']] = view.innerHTML;\n    }\n\n    code = khanApp.parse_template(khanApp.render_buffer[view.dataset['render']], data, controller);\n\n    view.innerHTML = code();\n};\n\nkhanApp.updateView = function (view, controller) {\n    return function (data, key, value) {\n        console.log(\"Update View !!\");\n        khanApp.render(view, data, controller);\n    };\n};\n\nmodule.exports = khanApp.$controller;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// khan.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 084bbfa72017bc82ba58","\"use strict\";\r\n\r\nconst global = window;\r\nconst middleware = require('./modules/middleware');\r\nconst Router = require('./modules/router');\r\nconst $controller = require('./modules/controller');\r\nconsole.log($controller);\r\n\r\nglobal.$khan = class {\r\n\r\n\tconstructor(){\r\n\t\tconst self = this;\t\t\r\n\t\tthis.$db_application = new Map();\r\n\t\tthis.middleware = new middleware();\r\n\t\treturn this;\r\n\t}\r\n\r\n\tset(name, fn){ this.$db_application.set(name, fn); }\r\n\r\n\tget(name){ this.$db_application.get(name); }\r\n\r\n\tuse(fn){ \r\n\t\tif(fn.name && fn.name === \"Router\"){\r\n\t\t\tthis.routeAwait = fn;\r\n\t\t}\r\n\t\tif(!fn.name && fn.name !== \"Router\"){\r\n\t\t\tthis.middleware.use(fn); \r\n\t\t}\r\n\t}\r\n\t\r\n\tget $controller(){\r\n\t    return $controller;\r\n\t}\r\n\r\n\tRouter(){\r\n\t\treturn Router;\r\n\t}\r\n\r\n\tlisten(){\r\n\t\tvar self = this;\r\n\t\tthis.middleware.go(function(){\r\n\t\t\tdelete this['go'];\r\n\t\t\tif(self.routeAwait){\r\n\t\t\t\tvar run = self.routeAwait.dispatch();\r\n\t\t\t\tvar [callback, pathh, params, active] = run;\r\n\t\t\t\tparams = params || [];\r\n\t\t\t\tcallback.bind(Object.assign({}, this, {\r\n\t\t\t\t\t\"pathname\": pathh,\r\n\t\t\t\t\t\"uri\": active\r\n\t\t\t\t}))(...params);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n};\n\n\n// WEBPACK FOOTER //\n// ./vendor/app/app.js","class Middleware {\r\n  \r\n  use(fn) {\r\n    this.go = (stack => next => stack(fn.bind(this, next.bind(this))))(this.go);\r\n  }\r\n\r\n  go(next){ return next(); }\r\n\r\n}\r\n\r\nmodule.exports = Middleware;\n\n\n// WEBPACK FOOTER //\n// ./vendor/app/modules/middleware.js","let Router = {};\r\n\r\nRouter.routes = [];\r\n\r\nRouter.any = (route, fn) => {\r\n\tif(route.includes('{') && route.includes('}')){\r\n\t\troute = route.replace(/\\{(.*?)}/g, '(.*)');\r\n\t}else{\r\n\t\troute = route + '?';\r\n\t}\r\n\tRouter.routes.push({ path: route, callback: fn });\r\n};\r\n\r\nRouter.name = \"Router\";\t\r\n\r\nRouter.not_found = {\r\n\t\"path\": 'not_found',\r\n\t\"callback\": function(){ \r\n\t\tdocument.body.innerHTML += `<h1>Router: \"${this.uri}\" not found!!</h1>`;\r\n\t}\r\n};\r\n\r\nRouter.path_active = (location.hash) ? location.hash.slice(1) : location.pathname;\r\n\r\nRouter.dispatch = () => {\r\n\tlet splited = (str) => str.split('/').length;\r\n\tvar params = [],\r\n\t\targs = [];\r\n\tvar router = Router.routes.filter((route) => {\r\n\t\tvar pattern = new RegExp('^'+ route.path );\r\n\t\targs = Router.path_active.match(pattern);\r\n\t\tif(Array.isArray(args) && args !== null){\r\n\t\t\targs = args.slice(1);\r\n\t\t}\r\n\t\treturn pattern.test(Router.path_active)\r\n\t\t\t   && splited(route.path) == splited(Router.path_active);\r\n\t});\r\n\trouter = router.length > 0 ? router[0] : Router.not_found; \r\n\treturn [ router.callback, router.path, args, Router.path_active];\r\n};\r\n\r\nmodule.exports = Router;\n\n\n// WEBPACK FOOTER //\n// ./vendor/app/modules/router.js","window.$broadcast = (data = {}) => {\r\n\treturn function(update = () => {}){\r\n\t\treturn new Proxy(data, {\r\n            get: (target, key) => (key in target) ? target[key] : null,\r\n            set: (target, key, value) => {\r\n\t\t\t\t      target[key] = value;\r\n\t\t\t\t      update(target, key, value);\r\n            }\r\n    \t});\r\n    }\r\n};\r\n\r\nwindow.khanApp = {};\r\n\r\nkhanApp.db = {};\r\n\r\n\r\nkhanApp.$controller = function($view, $event){\r\n    if(!window['khan_controller']) window['khan_controller'] = {};\r\n    var view = document.querySelector(`[khan-controller=\"${$view}\"]`);\r\n    if(view){\r\n        window['khan_controller'][$view] = {};\r\n        let model = window['khan_controller'][$view];\r\n        let $ctrl = \"window.khan_controller.\" + $view;\r\n        window['khan_controller'][$view] = $broadcast(model)(khanApp.updateView(view, $ctrl));\r\n        $event(window['khan_controller'][$view]);\r\n    }\r\n};\r\n\r\nkhanApp.parse_template = (code, data, controller) => {\r\n    var code_t = code;\r\n    code_t.match(/{{(.*?)}}/g).map((m) => {\r\n      var n = m.replace('{{', '')\r\n               .replace('}}', '')\r\n               .trim();\r\n      Object.keys(data).map((k) => {\r\n          if(n.includes(k)){\r\n             n = n.replace(new RegExp(k, 'g'), controller + \".\" + k);\r\n          }\r\n      });\r\n      code_t = code_t.replace(m, '${' + n + '}');\r\n    });\r\n  \r\n    return new Function('return `'+code_t+'`;');\r\n  \r\n};\r\n\r\nkhanApp.data = (view, key = null, value = null) => {\r\n    if(value === null && key !== null) return view.dataset[key];\r\n    if(value !== null && key !== null) view.dataset[key] = value;\r\n};\r\n\r\nkhanApp.render = function(view, data, controller){\r\n    \r\n    var code = 'false';\r\n    if(!khanApp.render_buffer) khanApp.render_buffer = {};\r\n    if(!khanApp.data(view, 'render')){\r\n        khanApp.data(view, 'render', Math.floor(Math.random() * 10000));\r\n    }\r\n    if(!khanApp.render_buffer[view.dataset['render']]){\r\n      khanApp.render_buffer[view.dataset['render']] = view.innerHTML;\r\n    }\r\n    \r\n    code = khanApp.parse_template(\r\n        khanApp.render_buffer[view.dataset['render']], \r\n        data,\r\n        controller\r\n    );\r\n    \r\n    view.innerHTML = code();\r\n    \r\n};\r\n\r\nkhanApp.updateView = (view, controller) => {\r\n\t  return function(data, key, value){\r\n        console.log(\"Update View !!\");\r\n        khanApp.render(view, data, controller);\r\n    };\r\n};\r\n\r\nmodule.exports = khanApp.$controller;\n\n\n// WEBPACK FOOTER //\n// ./vendor/app/modules/controller.js"],"sourceRoot":""}